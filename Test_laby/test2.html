<html>
<head>
    <title>Labyrinthe</title>
    <script language="JavaScript">
    // variables
     
        m='#';
        p='P';
        b=' ';
        r='r';
        f="F";
        xperso=1;
        yperso=1;
        //tableau à double entrée représentant un labyrinthe
        var laby = [[m,m,m,m,m,m,m,m,m,m],
                    [m,p,m,b,b,b,b,b,b,m],
                    [m,b,m,b,m,m,m,b,m,m],
                    [m,b,m,b,m,b,m,b,b,m],
                    [m,b,b,b,m,b,m,m,b,m],
                    [m,b,m,b,m,b,b,b,b,f],
                    [m,m,m,m,m,m,m,m,m,m]];
     
         
            // i= 6  et j=9  = fin = f
         
         
        // bas
        function touchebas()
        {
         
            if(laby[xperso+1][yperso]==b){
            laby[xperso][yperso]=b;
            laby[xperso+1][yperso]=p;
            xperso=xperso+1;
            }
            else
            {
            laby[xperso+1][yperso]=r
            }
         
            afficheLaby();
        }
         
        // haut
        function touchehaut()
        {
         
            if(laby[xperso-1][yperso]==b){
            laby[xperso][yperso]=b;
            laby[xperso-1][yperso]=p;
            xperso=xperso-1;
            }
            else
            {
            laby[xperso-1][yperso]=r
         
        }
            afficheLaby();
        }
         
        // gauche
        function touchegauche()
        {
         
            if(laby[xperso][yperso-1]==b){
            laby[xperso][yperso]=b;
            laby[xperso][yperso-1]=p;
            yperso=yperso-1;
            }
             
        else
            {
            laby[xperso][yperso-1]=r
            }
         
            afficheLaby();
        }
         
        //droite
        function touchedroite()
        {
         
            if(laby[xperso][yperso+1]==b){
            laby[xperso][yperso]=b;
            laby[xperso][yperso+1]=p;
            yperso=yperso+1;
            }
            else if(laby[xperso][yperso+1]==f)
            {
                alert('Bravo');
            }
             
        else
            {
            laby[xperso][yperso+1]=r
            }
         
            afficheLaby();
        }
         
        function afficheLaby()
        {
            var leLaby=document.getElementById("laby");
            insertion="<table border=0 cellspacing=0 cellpadding=0>";
         
         
         
        // Aspect graphique du jeu
            for(i=0;i<7;i++)
            {
            insertion+="<tr>";
                for(j=0;j<10;j++)
                {
                    // m = mur
                    if (laby[i][j]==m)
                    {
                    insertion+="<td>";
                    insertion+="<img width='52'height='52' src='img/meduse.jpg'>";
                    insertion+="</td>";
                    }
                     
                    //p= Personnage
                    if (laby[i][j]==p)
                    {
                    insertion+="<td>";
                    insertion+="<img width='52' height='52' src='img/poisson.jpg'>";
                    insertion+="</td>";
                    }
                     
                    //b= chemin
                    if (laby[i][j]==b)
                    {
                    insertion+="<td>";
                    insertion+="<img width='52' height='52' src='img/bulles.jpg'>";
                    insertion+="</td>";
                    }
                     
                    // r= mur touché
                    if (laby[i][j]==r)
                    {
                    insertion+="<td>";
                    insertion+="<img width='52' height='52'src='img/arrete.jpg'>";
                    insertion+="</td>";
                    }
                     
                    // f= Fin, arrivée
                    if (laby[i][j]==f)
                    {
                    insertion+="<td>";
                    insertion+="<img width='52' height='52'src='img/win.jpg'>";
                    insertion+="</td>";
                    }
             
                }
                insertion+="</tr>";
            }  
             
            insertion+="</table>";
            leLaby.innerHTML=insertion;
        }
         
    </script>
</head>
<body>
<div id="laby">
 
</div>
<input type="button" value="GO" onclick="afficheLaby();"><br/><BR><BR>
<button id="refresh" onclick="document.location.reload(false)"> Rafraichir </button><br/><BR><BR>
<!-- Bouttons deplacements -->
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="button" value="HAUT" onclick="touchehaut();"> <br>
<input type="button" value="GAUCHE" onclick="touchegauche();">
<input type="button" value="DROITE" onclick="touchedroite();"> <br>
 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="button" value="BAS" onclick="touchebas();"> <br><br>
 
</body>
</html>